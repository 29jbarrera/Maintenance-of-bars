<app-header-app [title]="'Usuarios'"></app-header-app>

<ion-content class="ion-padding">
  <section class="container-router-outlet">
    <ion-grid>
      <ion-row class="text-right mb-4">
        <ion-col>
          <ion-button
            fill="clear"
            size="default"
            (click)="view_modal_add_user()"
            id="users-button-add-user"
          >
            <ion-icon name="add-outline"></ion-icon>
            AÃ±adir usuario
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>

    <p-table
      #dt
      [value]="users"
      dataKey="id"
      [tableStyle]="{ 'min-width': '50rem' }"
      styleClass="p-datatable-striped"
      [rows]="10"
      [paginator]="true"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="id" style="width: 25%">
            ID <p-sortIcon field="id" />
          </th>
          <th pSortableColumn="uid" style="width: 25%">
            UID <p-sortIcon field="uid" />
          </th>
          <th pSortableColumn="email" style="width: 25%">
            Email <p-sortIcon field="email" />
          </th>
          <th pSortableColumn="displayName" style="width: 20%">
            DisplayName <p-sortIcon field="displayName" />
          </th>
          <th style="width: 5%"></th>
        </tr>
        <tr>
          <th>
            <p-columnFilter type="text" field="id" [showClearButton]="false" />
          </th>
          <th>
            <p-columnFilter type="text" field="uid" [showClearButton]="false" />
          </th>
          <th>
            <p-columnFilter
              type="text"
              field="email"
              [showClearButton]="false"
            />
          </th>
          <th>
            <p-columnFilter
              type="text"
              field="displayName"
              [showClearButton]="false"
            />
          </th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr [id]="'users-table-user-' + user.id ">
          <td>{{ user.id }}</td>
          <td>{{ user.uid }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.displayName }}</td>
          <td>
            <ion-button slot="end" fill="clear" (click)="view_user(user.id)" [id]="'users-table-user-button-view-user-' + user.id">
              <ion-icon name="eye-outline"></ion-icon>
            </ion-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </section>
</ion-content>
